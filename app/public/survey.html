<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>

  
    <link rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>

</head>

<style>
    img {
       height: 50%;
       width: 50%;
    }
</style>

<body>

    <div class="container">

        <h2>Survey Questions</h2>
        <hr>

        <h3>
            <strong>About You</strong>
        </h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required>

        <h4>Link to Photo Image (Required)</h4>
        <input type="text" id="photo" class="form-control" required>

        <hr>

        <h3>
            <strong>Question 1</strong>
        </h3>
        <h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
        <select class="chosen-select" id="q1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 2</strong>
        </h3>
        <h4>Generally speaking, you rely more on your experience than your imagination.</h4>
        <select class="chosen-select" id="q2">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 3</strong>
        </h3>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
        <select class="chosen-select" id="q3">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 4</strong>
        </h3>
        <h4>You rarely do something just out of sheer curiosity.</h4>
        <select class="chosen-select" id="q4">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 5</strong>
        </h3>
        <h4>People can rarely upset you.</h4>
        <select class="chosen-select" id="q5">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 6</strong>
        </h3>
        <h4>It is often difficult for you to relate to other people’s feelings.</h4>
        <select class="chosen-select" id="q6">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 7</strong>
        </h3>
        <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
        <select class="chosen-select" id="q7">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 8</strong>
        </h3>
        <h4>You rarely get carried away by fantasies and ideas.</h4>
        <select class="chosen-select" id="q8">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 9</strong>
        </h3>
        <h4>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h4>
        <select class="chosen-select" id="q9">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 10</strong>
        </h3>
        <h4>You feel more energetic after spending time with a group of people.</h4>
        <select class="chosen-select" id="q10">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>

        <br>
        <br>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
            <i class="fa fa-check-circle" aria-hidden="true"></i>
            Submit</button>

        <hr>
        <footer class="footer">
            <div class="container">
                <p>
                    <a href="/api/friends">API Friends List</a> 
                </p>
            </div>
        </footer>

    </div>

    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title">
                        <strong>Best Match</strong>
                    </h2>
                </div>
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" src="data:image/jpeg;base64,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" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <script type="text/javascript">
        // Chosen CSS
        var config = {
            ".chosen-select": {},
            ".chosen-select-deselect": {
                allow_single_deselect: true
            },
            ".chosen-select-no-single": {
                disable_search_threshold: 10
            },
            ".chosen-select-no-results": {
                no_results_text: "Oops, nothing found!"
            },
            ".chosen-select-width": {
                width: "95%"
            }
        };

        for (var selector in config) {
            $(selector).chosen(config[selector]);
        }

        // Capture the form inputs
        $("#submit").on("click", function (event) {
            event.preventDefault();

            // Form validation
            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });

                $(".chosen-select").each(function () {

                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }

            // If all required fields are filled
            if (validateForm()) {
                // Create an object for the user"s data
                var userData = {
                    name: $("#name").val(),
                    photo: $("#photo").val(),
                    scores: [
                        $("#q1").val(),
                        $("#q2").val(),
                        $("#q3").val(),
                        $("#q4").val(),
                        $("#q5").val(),
                        $("#q6").val(),
                        $("#q7").val(),
                        $("#q8").val(),
                        $("#q9").val(),
                        $("#q10").val()
                    ]
                };

                // AJAX post the data to the friends API.
                $.post("/api/friends", userData, function (data) {

                    // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                    $("#match-name").text(data.name);
                    $("#match-img").attr("src", data.photo);

                    // Show the modal with the best match
                    $("#results-modal").modal("toggle");

                });
            } else {
                alert("Please fill out all fields before submitting!");
            }
        });
    </script>

</body>

</html>